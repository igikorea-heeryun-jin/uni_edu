<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>통일교육원 모바일</title>
    <style>
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
        }

        .container {
            text-align: center;
            max-width: 600px;
            padding: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            font-weight: 700;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>🎓 통일교육원 모바일</h1>
    </div>

    <script>
        // 앱 실행 또는 스토어 연결 함수
        function openAppOrStore() {
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
            const isAndroid = /Android/.test(navigator.userAgent);

            if (isIOS || isAndroid) {
                let storeTimeout;
                let appOpened = false;

                // 앱이 열렸는지 감지하는 이벤트 리스너
                const detectAppOpen = () => {
                    appOpened = true;
                    if (storeTimeout) {
                        clearTimeout(storeTimeout);
                    }
                };

                // 페이지가 숨겨지거나 포커스를 잃으면 앱이 열린 것으로 간주
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden) {
                        detectAppOpen();
                    }
                });

                window.addEventListener('blur', detectAppOpen);
                window.addEventListener('pagehide', detectAppOpen);

                // 즉시 앱 실행 시도
                window.location.href = 'uniedu://home';

                // 앱이 설치되지 않은 경우를 대비해 스토어로 리다이렉트 (2초 후)
                storeTimeout = setTimeout(() => {
                    if (!appOpened) {
                        if (isIOS) {
                            window.location.href = 'https://apps.apple.com/app/your-app-id';
                        } else if (isAndroid) {
                            window.location.href = 'https://play.google.com/store/apps/details?id=com.example.uni_edu';
                        }
                    }
                }, 2000);
            }
        }

        // 페이지 로드 시 앱 실행 시도 (모바일에서만)
        if (navigator.userAgent.includes('Mobile')) {
            openAppOrStore();
        }
    </script>
</body>

</html>